(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(19),i=c.n(n),r=(c(43),c(4)),l=c(5),o=c(8),d=c(35),j=c(6),b=c.n(j),m=(c(62),c(22)),h=c.n(m),u=c(0);function O(e){var t=Object(o.f)();return h()((function(e){function t(){var t=e(window).width(),c=e(".dropdown"),s=e(".dropdown-menu");t>=768?(c.on("mouseenter",(function(){e(this).addClass("show").children(s).addClass("show")})),c.on("mouseleave",(function(){e(this).removeClass("show").children(s).removeClass("show")}))):c.off("mouseenter mouseleave")}e(window).on("scroll",(function(){e(this).scrollTop()>=200?e(".navbar").addClass("fixed-top"):0==e(this).scrollTop()&&e(".navbar").removeClass("fixed-top")})),e(window).on("resize",t),t()})),Object(u.jsx)("div",{children:Object(u.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{href:"#",className:"navbar-brand",style:{"font-size":"30px"},children:"Foodie.com"}),Object(u.jsxs)("button",{type:"button",className:"navbar-toggler collapsed","data-toggle":"collapse","data-target":"#main-nav",children:[Object(u.jsx)("span",{className:"menu-icon-bar"}),Object(u.jsx)("span",{className:"menu-icon-bar"}),Object(u.jsx)("span",{className:"menu-icon-bar"})]}),Object(u.jsx)("div",{id:"main-nav",className:"collapse navbar-collapse",children:Object(u.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/",className:"nav-item nav-link",style:{"font-size":"90.5%"},children:" Home"})}),e.isLoggedIn?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/profile",className:"nav-item nav-link",style:{"font-size":"90.5%"},children:" Profile"})}),Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/signin",className:"nav-item nav-link",onClick:function(){console.log("Logging Out!"),localStorage.removeItem("jwtToken"),e.loginCallback(),t.push("/home")},style:{"font-size":"90.5%"},children:"Logout"})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/signin",className:"nav-item nav-link",style:{"font-size":"90.5%"},children:" SignIn"})}),Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/signup",className:"nav-item nav-link",style:{"font-size":"90.5%"},children:"SignUp"})})]})]})})]})})})}function x(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-6 col-remove",children:Object(u.jsx)("div",{className:"widget-image has-shadow",children:Object(u.jsxs)("div",{className:"contact-card-2",children:[Object(u.jsx)("div",{className:"cover-bg",children:Object(u.jsx)("img",{src:e.recipeImage,className:"img-fluid",alt:"..."})}),Object(u.jsxs)("div",{className:"widget-body",children:[Object(u.jsx)("h4",{className:"name",children:Object(u.jsxs)(l.b,{to:"/viewRecipe/".concat(e._id),children:[" ",Object(u.jsx)("a",{href:"",children:e.recipeName})," "]})}),Object(u.jsx)("div",{className:"job",children:e.category}),Object(u.jsxs)("div",{className:"job",children:["By ",e.userName]}),Object(u.jsx)("div",{className:"text-center pt-5 pb-3",children:Object(u.jsxs)(l.b,{to:"/viewRecipe/".concat(e._id),children:["  ",Object(u.jsx)("a",{href:"#",className:"btn btn-shadow",children:"More Details "})," "]})})]})]})})}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})}function p(e){var t=e.selectRecipe.map((function(e,t){return Object(u.jsx)(x,{_id:e._id,recipeName:e.recipeName,recipeImage:e.recipeImage,category:e.category,method:e.method,userName:e.user.userName},t)})),c=e.types.map((function(e){return Object(u.jsx)("option",{value:e,children:e})}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{className:"header-area overlay",children:Object(u.jsx)("div",{className:"banner",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"Foodie Website"}),Object(u.jsx)("p",{children:"Food that you can't resist"})]})})}),Object(u.jsx)("main",{children:Object(u.jsxs)("section",{id:"content",className:"content",children:[Object(u.jsxs)("div",{className:"filterBox",children:[Object(u.jsx)("h2",{children:"Filter Recipe by Category: "}),Object(u.jsx)("select",{name:"recipes",id:"recipes",className:"IBST",onChange:function(t){var c=t.target.value;"All"==c?e.setSelectRecipe(e.recipes):e.setSelectRecipe(e.recipes.filter((function(e){return e.category==c})))},children:c})]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container bootdey flex",children:Object(u.jsx)("div",{className:"row flex-row",children:t})})]})})]})})}var g=c(2),f=c(9),v=c(80),N={development:"http://localhost:".concat(4e3),production:"https://foodie-fidaa.herokuapp.com"},w="localhost"===window.location.hostname?N.development:N.production;function y(){var e=Object(o.f)(),t=Object(s.useState)({}),c=Object(r.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(!0),d=Object(r.a)(i,2),j=d[0],m=d[1],h=function(e){var t=e.target,c=t.name,s=t.value;n(Object(f.a)(Object(f.a)({},a),{},Object(g.a)({},c,s)))};return Object(u.jsxs)("div",{children:[!j&&Object(u.jsx)(v.a,{variant:"danger",children:"The email is already in use. Please change the email"}),Object(u.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css",integrity:"sha256-3sPp8BkKUE7QyPSl6VfBByBroQbKxKG7tsusY2mhbVY=",crossOrigin:"anonymous"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-11 mt-60 mx-md-auto",children:Object(u.jsx)("div",{className:"login-box bg-white pr-lg-5 pr-0",children:Object(u.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(u.jsx)("div",{className:"col-md-6 order-md-last",children:Object(u.jsxs)("div",{className:"form-wrap bg-white",children:[Object(u.jsx)("h4",{className:"btm-sep pb-3 mb-5",children:"Register"}),Object(u.jsx)("form",{className:"form",method:"post",action:"#",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"form-group position-relative",children:[Object(u.jsx)("span",{className:"zmdi zmdi-account"}),Object(u.jsx)("input",{type:"text",id:"username",className:"form-control",placeholder:"Username",required:!0,name:"userName",onChange:function(e){return h(e)}})]})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"form-group position-relative",children:[Object(u.jsx)("span",{className:"zmdi zmdi-email"}),Object(u.jsx)("input",{type:"email",id:"email",className:"form-control",placeholder:"Email Address",required:!0,name:"email",onChange:function(e){return h(e)}})]})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"form-group position-relative",children:[Object(u.jsx)("span",{className:"zmdi zmdi-lock"}),Object(u.jsx)("input",{type:"password",id:"password",className:"form-control",placeholder:"Password",required:!0,name:"password",onChange:function(e){return h(e)}})]})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("button",{type:"submit",id:"submit",className:"btn btn-lg btn-custom btn-dark btn-block",onClick:function(t){return t.preventDefault(),void b.a.post("".concat(w,"/api/user/signup"),a).then((function(t){var c=t.data.user;console.log("res",t.data.user),c?(console.log("user logined in "),e.push("/signin")):setTimeout((function(){m(!1)}),1e3)})).catch((function(e){return console.log(e)}))},children:"Sign Up"})})]})})]})}),Object(u.jsx)("div",{className:"col-md-6 order-md-first",children:Object(u.jsx)("div",{className:"content text-center",children:Object(u.jsxs)("div",{className:"border-bottom pb-5 mb-5",children:[Object(u.jsx)("h3",{className:"c-black",children:"Already have an account?"}),Object(u.jsxs)(l.b,{to:"/signin",children:[" ",Object(u.jsx)("a",{className:"btn btn-custom",children:"sign In"})," "]})]})})})]})})})})})]})}function k(e){var t=Object(o.f)(),c=Object(s.useState)({email:"",password:""}),a=Object(r.a)(c,2),n=a[0],i=a[1],l=function(e){var t=e.target,c=t.name,s=t.value;i(Object(f.a)(Object(f.a)({},n),{},Object(g.a)({},c,s)))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css",integrity:"sha256-3sPp8BkKUE7QyPSl6VfBByBroQbKxKG7tsusY2mhbVY=",crossOrigin:"anonymous"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-11 mt-60 mx-md-auto",children:Object(u.jsx)("div",{className:"login-box bg-white pr-lg-5 pr-0",children:Object(u.jsx)("div",{className:"row no-gutters align-items-center",children:Object(u.jsx)("div",{className:"col-md-6 order-md-last",children:Object(u.jsxs)("div",{className:"form-wrap bg-white",children:[Object(u.jsx)("h4",{className:"btm-sep pb-3 mb-5",children:"Sign in"}),Object(u.jsx)("form",{className:"form",method:"post",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"form-group position-relative",children:[Object(u.jsx)("span",{className:"zmdi zmdi-email"}),Object(u.jsx)("input",{type:"email",id:"email",className:"form-control",placeholder:"Email Address",name:"email",onChange:function(e){return l(e)}})]})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"form-group position-relative",children:[Object(u.jsx)("span",{className:"zmdi zmdi-lock"}),Object(u.jsx)("input",{type:"password",id:"password",className:"form-control",placeholder:"Password",name:"password",onChange:function(e){return l(e)}})]})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("button",{type:"submit",id:"submit",className:"btn btn-lg btn-custom btn-dark btn-block",onClick:function(c){return c.preventDefault(),void b.a.post("".concat(w,"/api/user/login"),n).then((function(c){console.log("Express backend /login response",c);var s=c.data.token,a=c.data.msg;s?(localStorage.setItem("jwtToken",s),e.loginCallback(),t.push("/profile")):console.log("Login error: ",a)}))},children:"Sign in"})})]})})]})})})})})})})]})}function C(){return Object(u.jsx)(u.Fragment,{})}var I=c(13),S=c.n(I),F=c(18);function _(e){var t=Object(o.f)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"list-group-item d-flex align-items-center",children:[Object(u.jsx)("img",{src:e.userImage,alt:"",width:"50px",className:"rounded-sm ml-n2"}),Object(u.jsxs)("div",{className:"flex-fill pl-3 pr-3",children:[Object(u.jsx)("div",{className:"text-dark font-weight-600",children:e.name}),Object(u.jsx)("div",{}),Object(u.jsxs)("a",{onClick:function(){return t.push("/oneUser/".concat(e._id))},href:"",children:["@",e.userName]})]}),e.notShow?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)("button",{type:"button",className:"btn btn-sm btn-danger pull-right",onClick:function(){return e.unfollow(e._id)},children:[Object(u.jsx)("i",{className:"fa fa-close-round"})," Unfollow"]})]})})}function B(e){var t=Object(o.f)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"list-group-item d-flex align-items-center",children:[Object(u.jsx)("img",{src:e.userImage,alt:"",width:"50px",className:"rounded-sm ml-n2"}),Object(u.jsxs)("div",{className:"flex-fill pl-3 pr-3",children:[Object(u.jsx)("div",{className:"text-dark font-weight-600",children:e.name}),Object(u.jsx)("div",{className:"text-muted fs-13px",children:Object(u.jsxs)("a",{onClick:function(){return t.push("/oneUser/".concat(e._id))},href:"",children:["@",e.userName]})})]})]})})}function T(e){return Object(u.jsx)("div",{className:"col-md-4 col-sm-6 col-remove",children:Object(u.jsx)("div",{className:"widget-image has-shadow",children:Object(u.jsxs)("div",{className:"contact-card-2",children:[Object(u.jsx)("div",{className:"cover-bg",children:Object(u.jsx)("img",{src:e.recipeImage,className:"img-fluid",alt:"..."})}),Object(u.jsxs)("div",{className:"widget-body",children:[Object(u.jsx)("h4",{className:"name",children:Object(u.jsx)("a",{href:"#",children:e.recipeName})}),Object(u.jsx)("div",{className:"job",children:e.category}),Object(u.jsx)("div",{className:"text-center pt-5 pb-3",children:e.notShow?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.b,{to:"/viewRecipe/".concat(e._id),children:["  ",Object(u.jsx)("a",{className:"btn btn-shadow",children:"More Details "})," "]})}):Object(u.jsx)(u.Fragment,{children:e.switchCard?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(l.b,{to:"/editRecipe/".concat(e._id),children:[" ",Object(u.jsx)("a",{className:"btn btn-shadow",children:"Edit"})," "]}),Object(u.jsx)("a",{className:"btn btn-shadow",onClick:function(){return e.deleteRecipe(e._id)},children:"Delete"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(l.b,{to:"/viewRecipe/".concat(e._id),children:["  ",Object(u.jsx)("a",{className:"btn btn-shadow",children:"More Details "})," "]}),Object(u.jsx)("a",{className:"btn btn-shadow",onClick:function(){return e.deleteFavRecipe(e._id)},children:"Remove"})]})})})]})]})})})}var R=c(16),E=c.n(R);function D(e){var t=e.auth.currentUser,c=(t.following,t.followers,t._id),a=Object(s.useState)({}),n=Object(r.a)(a,2),i=n[0],o=n[1],d=Object(s.useState)(!1),j=Object(r.a)(d,2),m=j[0],h=j[1],O=Object(s.useState)(!1),x=Object(r.a)(O,2),p=x[0],v=x[1],N=c;Object(s.useEffect)((function(){b.a.get("".concat(w,"/api/user/profile/").concat(N)).then((function(e){console.log(e.data);var t=Object.assign(e.data);o({data:t}),v(!0)}))}),[m]);var y=Object(s.useState)(""),k=Object(r.a)(y,2),C=k[0],I=k[1],R=Object(s.useState)(!1),D=Object(r.a)(R,2),z=D[0],U=D[1],A=Object(s.useState)(!1),L=Object(r.a)(A,2),P=L[0],M=L[1],q=function(){var e=Object(F.a)(S.a.mark((function e(t){var c,s,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files,(s=new FormData).append("file",c[0]),s.append("upload_preset","foodie"),U(!0),e.next=7,fetch("\thttps://api.cloudinary.com/v1_1/drtd6zi1g/image/upload",{method:"POST",body:s});case 7:return a=e.sent,e.next=10,a.json();case 10:n=e.sent,I(n.secure_url),U(!1),M(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function G(e,t){var c,s,a;for(s=document.getElementsByClassName("tabcontent"),c=0;c<s.length;c++)s[c].style.display="none";for(a=document.getElementsByClassName("nav-link py-4"),c=0;c<a.length;c++)a[c].className=a[c].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}function Y(e,t){var c,s,a;for(s=document.getElementsByClassName("tab-pane fade"),c=0;c<s.length;c++)s[c].style.display="none";for(a=document.getElementsByClassName("list-group-item"),c=0;c<a.length;c++)a[c].className=a[c].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}var V=Object(s.useState)({}),K=Object(r.a)(V,2),Q=K[0],H=K[1],J=function(e){var t,c=e.target,s=c.name,a=c.value;H(Object(f.a)(Object(f.a)({},Q),{},(t={},Object(g.a)(t,s,a),Object(g.a)(t,"userImage",C),t)))},W=function(e){E.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&(b.a.delete("".concat(w,"/api/recipe/").concat(N,"/delete/").concat(e)).then((function(){return h((function(e){return!e}))})).catch((function(e){return console.log(e)})),E.a.fire("Deleted!","Your recipe has been deleted.","success"))}))},Z=function(e){E.a.fire({title:"Are you sure?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then((function(t){t.isConfirmed&&(b.a.delete("".concat(w,"/api/user/").concat(N,"/fav/").concat(e)).then((function(){return h((function(e){return!e}))})).catch((function(e){return console.log(e)})),E.a.fire("Removed!","The recipe has been removed.","success"))}))},X=function(e){b.a.post("".concat(w,"/api/user/unfollow"),{userIdToFollow:e,userId:N}).then((function(e){h((function(e){return!e})),console.log("Unfollowed",e)})).catch((function(e){return console.log(e)}))};return Object(u.jsx)(u.Fragment,{children:p&&Object(u.jsxs)("div",{className:"bg-white",children:[Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-4",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("a",{href:"#",className:"d-inline-block text-dark",children:[Object(u.jsx)("strong",{children:i.data.recipes.length}),Object(u.jsx)("span",{className:"text-muted",children:" Recipes"})]}),Object(u.jsxs)("a",{href:"#",className:"d-inline-block text-dark ml-3",children:[Object(u.jsx)("strong",{children:i.data.followers.length}),Object(u.jsx)("span",{className:"text-muted",children:" Followers"})]}),Object(u.jsxs)("a",{href:"#",className:"d-inline-block text-dark ml-3",children:[Object(u.jsx)("strong",{children:i.data.following.length}),Object(u.jsx)("span",{className:"text-muted",children:" Following"})]})]}),Object(u.jsx)("div",{children:Object(u.jsxs)(l.b,{to:"/addRecipe",children:[" ",Object(u.jsx)("a",{className:"btn btn-success btn-sm",children:"Add new recipe!"})]})})]})}),Object(u.jsx)("hr",{className:"m-0"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"text-center py-5",children:[z?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:"",alt:"Loading..",className:"d-block ui-w-80"})}):Object(u.jsx)(u.Fragment,{children:P?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:C,className:"ui-w-100 rounded-circle"})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:i.data.userImage,className:"ui-w-100 rounded-circle"})})}),Object(u.jsxs)("div",{className:"col-md-8 col-lg-6 col-xl-5 p-0 mx-auto",children:[Object(u.jsx)("h4",{className:"font-weight-bold my-4",children:i.data.name}),Object(u.jsxs)("p",{className:"my-4",children:["@",i.data.userName]}),Object(u.jsx)("div",{className:"text-muted mb-4",children:i.data.bio})]})]})}),Object(u.jsx)("hr",{className:"m-0"}),Object(u.jsxs)("ul",{className:"nav nav-tabs tabs-alt justify-content-center",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4 active",href:"#",onClick:function(e){return G(e,"Recipes")},children:"Recipes"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4",href:"#",onClick:function(e){return G(e,"Followers")},children:"Followers"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4",href:"#",onClick:function(e){return G(e,"Following")},children:"Following"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4",href:"#",onClick:function(e){return G(e,"Favorites")},children:"Favorites"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4",href:"#",onClick:function(e){return G(e,"Settings")},children:"Settings"})})]}),Object(u.jsx)("div",{id:"Recipes",className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container bootdey",children:Object(u.jsx)("div",{className:"row flex-row",children:i.data.recipes.map((function(e){return Object(u.jsx)(T,{_id:e._id,recipeName:e.recipeName,recipeImage:e.recipeImage,category:e.category,method:e.method,deleteRecipe:W,switchCard:!0})}))})})]})}),Object(u.jsx)("div",{id:"Followers",style:{display:"none"},className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-xl-12",children:[Object(u.jsx)("div",{className:"list-group",children:i.data.followers.map((function(e,t){return Object(u.jsx)(B,{_id:e._id,userName:e.userName,name:e.name,userImage:e.userImage},t)}))}),Object(u.jsx)("div",{className:"text-center p-3"})]})})]})}),Object(u.jsx)("div",{id:"Following",style:{display:"none"},className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-xl-12",children:[Object(u.jsx)("div",{className:"list-group",children:i.data.following.map((function(e,t){return Object(u.jsx)(_,{_id:e._id,userName:e.userName,name:e.name,userImage:e.userImage,unfollow:X})}))}),Object(u.jsx)("div",{className:"text-center p-3"})]})})]})}),Object(u.jsx)("div",{id:"Favorites",style:{display:"none"},className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container bootdey",children:Object(u.jsx)("div",{className:"row flex-row",children:i.data.favoriteRecipes.map((function(e){return Object(u.jsx)(T,{_id:e._id,recipeName:e.recipeName,recipeImage:e.recipeImage,category:e.category,method:e.method,deleteFavRecipe:Z,switchCard:!1})}))})})]})}),Object(u.jsx)("div",{id:"Settings",style:{display:"none"},className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("h4",{className:"font-weight-bold py-3 mb-4",children:"Account settings"}),Object(u.jsx)("div",{className:"card overflow-hidden",children:Object(u.jsxs)("div",{className:"row no-gutters row-bordered row-border-light",children:[Object(u.jsx)("div",{className:"col-md-3 pt-0",children:Object(u.jsxs)("div",{className:"list-group list-group-flush account-settings-links",children:[Object(u.jsx)("a",{className:"list-group-item list-group-item-action active","data-toggle":"list",href:"#account-general",onClick:function(e){return Y(e,"account-general")},children:"General"}),Object(u.jsx)("a",{className:"list-group-item list-group-item-action","data-toggle":"list",href:"#account-change-password",onClick:function(e){return Y(e,"account-change-password")},children:"Change password"})]})}),Object(u.jsx)("div",{className:"col-md-9",children:Object(u.jsxs)("div",{className:"tab-content",children:[Object(u.jsxs)("div",{className:"tab-pane fade active show",id:"account-general",children:[Object(u.jsxs)("div",{className:"card-body media align-items-center",children:[z?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:"",alt:"Loading..",className:"d-block ui-w-80"})}):Object(u.jsx)(u.Fragment,{children:P?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:C,alt:"",className:"d-block ui-w-80"})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:i.data.userImage,alt:"",className:"d-block ui-w-80"})})}),Object(u.jsxs)("div",{className:"media-body ml-4",children:[Object(u.jsxs)("label",{className:"btn btn-outline-primary",children:["Upload new photo",Object(u.jsx)("input",{type:"file",className:"account-settings-fileinput",name:"file",onChange:q})]})," \xa0",Object(u.jsx)("div",{className:"text-light small mt-1",children:"Allowed JPG, GIF or PNG."})]})]}),Object(u.jsx)("hr",{className:"border-light m-0"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Username"}),Object(u.jsx)("input",{type:"text",readOnly:!0,className:"form-control mb-1",value:i.data.userName})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",name:"name",defaultValue:i.data.name,onChange:function(e){return J(e)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"E-mail"}),Object(u.jsx)("input",{type:"text",readOnly:!0,className:"form-control mb-1",value:i.data.email})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Bio"}),Object(u.jsx)("textarea",{className:"form-control",rows:"5",name:"bio",onChange:function(e){return J(e)},children:i.data.bio})]})]})]}),Object(u.jsx)("div",{className:"tab-pane fade active show",id:"account-change-password",style:{display:"none"},children:Object(u.jsxs)("div",{className:"card-body pb-2",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"New password"}),Object(u.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:function(e){return J(e)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Repeat new password"}),Object(u.jsx)("input",{type:"password",className:"form-control"})]})]})})]})})]})}),Object(u.jsxs)("div",{className:"text-right mt-3",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return e.preventDefault(),void E.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Save",denyButtonText:"Don't save"}).then((function(e){if(e.isConfirmed){var t=i.data,c=t.bio,s=t.name,a=t.userImage,n=t.password;Q.name=Q.name?Q.name:s,Q.bio=Q.bio?Q.bio:c,Q.userImage=C||a,Q.password=Q.password?Q.password:n,b.a.put("".concat(w,"/api/user/update/").concat(N),Q).then((function(e){h((function(e){return!e})),console.log(e.data.user),H(Q)})).catch((function(e){return console.log(e)})),E.a.fire("Saved!","","success")}else e.isDenied&&E.a.fire("Changes are not saved","","info")}))},children:"Save changes"}),"\xa0"]})]})})]})})}function z(e){var t,c,a,n,i,d,j,m,h=Object(o.f)(),O=Object(s.useState)({}),x=Object(r.a)(O,2),p=x[0],v=x[1],N=e.auth.currentUser._id,y=function(e){var t,c=e.target,s=c.name,a=c.value;v(Object(f.a)(Object(f.a)({},p),{},(t={},Object(g.a)(t,s,a),Object(g.a)(t,"userId",N),Object(g.a)(t,"recipeImage",I),t)))},k=Object(s.useState)(""),C=Object(r.a)(k,2),I=C[0],_=C[1],B=function(){var e=Object(F.a)(S.a.mark((function e(t){var c,s,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files,(s=new FormData).append("file",c[0]),s.append("upload_preset","foodie"),e.next=6,fetch("\thttps://api.cloudinary.com/v1_1/drtd6zi1g/image/upload",{method:"POST",body:s});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,_(n.secure_url);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h1",{id:"title",className:"text-center",children:"Add New Recipe"}),Object(u.jsx)("p",{id:"description",className:"description text-center",children:"Add your delicious recipe. Any recipe is welcome !"})]}),Object(u.jsxs)("form",{id:"survey-form",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{id:"recipeName-label",className:"CRlabel",for:"name",children:"Recipe Name"}),Object(u.jsx)("input",(t={className:"IBST",type:"text",name:"recipeName",id:"recipeName"},Object(g.a)(t,"className","form-control"),Object(g.a)(t,"placeholder","Enter recipe name here"),Object(g.a)(t,"required",!0),Object(g.a)(t,"onChange",(function(e){return y(e)})),t))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{id:"recipeName-label",for:"file",className:"CRlabel",children:"Recipe Image"}),Object(u.jsx)("input",(c={className:"IBST",type:"file",name:"file",id:"recipeImage"},Object(g.a)(c,"className","form-control"),Object(g.a)(c,"required",!0),Object(g.a)(c,"onChange",B),c))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsxs)("label",{id:"cookTime-label",for:"number",className:"CRlabel",children:["Cook Time",Object(u.jsx)("span",{className:"clue",children:"(Minutes)"})]}),Object(u.jsx)("input",(a={className:"IBST",type:"number",name:"cookTime",id:"cookTime",min:"10",max:"99"},Object(g.a)(a,"className","form-control"),Object(g.a)(a,"placeholder","0 min"),Object(g.a)(a,"onChange",(function(e){return y(e)})),a))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Category"}),Object(u.jsxs)("select",(n={id:"dropdown",name:"category",className:"IBST"},Object(g.a)(n,"className","form-control"),Object(g.a)(n,"required",!0),Object(g.a)(n,"onChange",(function(e){return y(e)})),Object(g.a)(n,"children",[Object(u.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select recipe's category"}),Object(u.jsx)("option",{value:"breakfast",children:"Breakfast"}),Object(u.jsx)("option",{value:"dessert",children:"Dessert"}),Object(u.jsx)("option",{value:"appetizer",children:"Appetizer"}),Object(u.jsx)("option",{value:"pastries",children:"Pastries"}),Object(u.jsx)("option",{value:"salad",children:"Salad"}),Object(u.jsx)("option",{value:"soups",children:"Soups"}),Object(u.jsx)("option",{value:"drinks",children:"Drinks"}),Object(u.jsx)("option",{value:"mainDish",children:"Main dish"}),Object(u.jsx)("option",{value:"other",children:"Other"})]),n))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Ingredients"}),Object(u.jsx)("textarea",(i={className:"IBST",id:"ingredients"},Object(g.a)(i,"className","input-textarea"),Object(g.a)(i,"name","ingredients"),Object(g.a)(i,"placeholder","Enter Ingredients here..."),Object(g.a)(i,"onChange",(function(e){return y(e)})),i))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Method"}),Object(u.jsx)("textarea",(d={className:"IBST",id:"method"},Object(g.a)(d,"className","input-textarea"),Object(g.a)(d,"name","method"),Object(g.a)(d,"placeholder","Enter method here..."),Object(g.a)(d,"onChange",(function(e){return y(e)})),d))]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("button",(j={type:"submit",id:"submit",className:"IBST recipeBtn"},Object(g.a)(j,"className","submit-button"),Object(g.a)(j,"onClick",(function(e){return e.preventDefault(),void b.a.post("".concat(w,"/api/recipe/addRecipe"),p).then((function(e){e.data.recipe,console.log("res",e.data.recipe),console.log("recipe added to DB "),h.push("/profile")})).catch((function(e){return console.log(e)}))})),Object(g.a)(j,"children","Submit"),j)),Object(u.jsx)("br",{}),Object(u.jsx)(l.b,{to:"/profile",children:Object(u.jsx)("button",(m={type:"cancel",id:"cancel",className:"IBST recipeBtn"},Object(g.a)(m,"className","cancel-button"),Object(g.a)(m,"children","Cancel"),m))})]})]})]})})}function U(){var e=Object(o.f)(),t=Object(s.useState)(""),c=Object(r.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(!1),l=Object(r.a)(i,2),d=(l[0],l[1]),j=Object(s.useState)(!1),m=Object(r.a)(j,2),h=(m[0],m[1]),O=function(){var e=Object(F.a)(S.a.mark((function e(t){var c,s,a,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files,(s=new FormData).append("file",c[0]),s.append("upload_preset","foodie"),d(!0),e.next=7,fetch("\thttps://api.cloudinary.com/v1_1/drtd6zi1g/image/upload",{method:"POST",body:s});case 7:return a=e.sent,e.next=10,a.json();case 10:i=e.sent,n(i.secure_url),d(!1),h(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(s.useState)({}),p=Object(r.a)(x,2),v=p[0],N=p[1],y=function(e){var t,c=e.target,s=c.name,n=c.value;N(Object(f.a)(Object(f.a)({},v),{},(t={},Object(g.a)(t,s,n),Object(g.a)(t,"recipeImage",a),t)))},k=Object(o.g)()._id;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"container",children:[Object(u.jsxs)("header",{class:"header",children:[Object(u.jsx)("h1",{id:"title",class:"text-center",children:"Edit your Recipe"}),Object(u.jsx)("p",{id:"description",class:"description text-center",children:"."})]}),Object(u.jsxs)("form",{id:"survey-form",children:[Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{id:"recipeName-label",for:"name",children:"Recipe Name"}),Object(u.jsx)("input",{type:"text",name:"recipeName",id:"recipeName",class:"form-control",required:!0,onChange:function(e){return y(e)}})]}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{id:"recipeName-label",for:"file",children:"Recipe Image"}),Object(u.jsx)("input",{type:"file",name:"file",id:"recipeImage",class:"form-control",required:!0,onChange:O})]}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{id:"cookTime-label",for:"number",children:["Cook Time",Object(u.jsx)("span",{class:"clue",children:"(Minutes)"})]}),Object(u.jsx)("input",{type:"number",name:"cookTime",id:"cookTime",min:"10",max:"99",class:"form-control",onChange:function(e){return y(e)}})]}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("p",{children:"Category"}),Object(u.jsxs)("select",{id:"dropdown",name:"category",class:"form-control",required:!0,onChange:function(e){return y(e)},children:[Object(u.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select recipe's category"}),Object(u.jsx)("option",{value:"breakfast",children:"Breakfast"}),Object(u.jsx)("option",{value:"dessert",children:"Dessert"}),Object(u.jsx)("option",{value:"appetizer",children:"Appetizer"}),Object(u.jsx)("option",{value:"pastries",children:"Pastries"}),Object(u.jsx)("option",{value:"salad",children:"Salad"}),Object(u.jsx)("option",{value:"soups",children:"Soups"}),Object(u.jsx)("option",{value:"drinks",children:"Drinks"}),Object(u.jsx)("option",{value:"mainDish",children:"Main dish"}),Object(u.jsx)("option",{value:"other",children:"Other"})]})]}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("p",{children:"Ingredients"}),Object(u.jsx)("textarea",{id:"ingredients",class:"input-textarea",name:"ingredients",onChange:function(e){return y(e)}})]}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("p",{children:"Method"}),Object(u.jsx)("textarea",{id:"method",class:"input-textarea",name:"method",onChange:function(e){return y(e)}})]}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("button",{type:"submit",id:"submit",class:"submit-button",onClick:function(t){return t.preventDefault(),void b.a.put("".concat(w,"/api/recipe/update/").concat(k),v).then((function(t){console.log("edited"),console.log(t.data.recipe),N(v),e.push("/profile")})).catch((function(e){return console.log(e)}))},children:"Submit"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"cancel",id:"cancel",class:"cancel-button",children:"Cancel"})]})]})]})})}function A(e){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"media-block pad-all",children:[Object(u.jsx)("a",{class:"media-left",href:"#",children:Object(u.jsx)("img",{class:"img-circle img-sm",alt:"Profile Picture",src:"https://t3.ftcdn.net/jpg/04/10/65/76/360_F_410657632_VgcV9gaH9AzGuMZgsEtsmkuLaeuiaBsw.jpg"})}),Object(u.jsxs)("div",{class:"media-body",children:[Object(u.jsxs)("div",{class:"mar-btm",children:[Object(u.jsx)("a",{href:"#",class:"btn-link text-semibold media-heading box-inline",children:e.userName}),Object(u.jsxs)("p",{class:"text-muted text-sm",children:[Object(u.jsx)("i",{class:"fa fa-clock-o fa-lg"})," ",e.createdAt]})]}),Object(u.jsx)("p",{children:e.comment}),""==e.reviewImage?"":Object(u.jsx)("img",{class:"img-responsive thumbnail",src:e.reviewImage,alt:"Image",width:"300px",height:"300px"}),Object(u.jsx)("hr",{})]})]})})}function L(e){var t=e.recipes.reviews.slice(0).reverse().map((function(e,t){return Object(u.jsx)(A,{_id:e._id,comment:e.comment,reviewImage:e.reviewImage,createdAt:e.createdAt},t)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("link",{href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css",rel:"stylesheet"}),Object(u.jsx)("div",{class:"container bootdey",children:Object(u.jsxs)("div",{class:"col-md-12 bootstrap snippets",children:[Object(u.jsx)("div",{class:"panel",children:Object(u.jsxs)("div",{class:"panel-body",children:[Object(u.jsx)("textarea",{class:"form-control",rows:"2",placeholder:"Add comment..",name:"comment",onChange:function(t){return e.onChangeInput(t)}}),Object(u.jsxs)("div",{class:"mar-top clearfix",children:[Object(u.jsxs)("button",{class:"btn btn-sm btn-primary pull-right",type:"submit",onClick:function(t){return e.onSubmit(t)},children:[Object(u.jsx)("i",{class:"fa fa-pencil fa-fw"})," Share"]}),Object(u.jsx)("a",{class:"btn btn-trans btn-icon fa fa-camera add-tooltip",href:"#",children:Object(u.jsx)("input",{type:"file",name:"file",onChange:e.uploadImage})})]})]})}),Object(u.jsx)("div",{class:"panel",children:Object(u.jsx)("div",{class:"panel-body",children:t})})]})})]})}function P(e){var t=Object(s.useState)([]),c=Object(r.a)(t,2),a=c[0],n=c[1],i=Object(o.g)()._id,d=Object(s.useState)(!1),j=Object(r.a)(d,2),m=j[0],h=j[1],O=Object(s.useState)(!1),x=Object(r.a)(O,2),p=x[0],v=x[1],N=Object(s.useState)(!1),y=Object(r.a)(N,2),k=y[0],C=y[1];Object(s.useEffect)((function(){b.a.get("".concat(w,"/api/recipe/view/").concat(i)).then((function(e){console.log("one",e.data),n(e.data),h(!0)}))}),[p]);var I=Object(s.useState)({}),_=Object(r.a)(I,2),B=_[0],T=_[1],R=Object(s.useState)(""),D=Object(r.a)(R,2),z=D[0],U=D[1],A=function(){var e=Object(F.a)(S.a.mark((function e(t){var c,s,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files,(s=new FormData).append("file",c[0]),s.append("upload_preset","foodie"),e.next=6,fetch("\thttps://api.cloudinary.com/v1_1/drtd6zi1g/image/upload",{method:"POST",body:s});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,U(n.secure_url);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:m&&Object(u.jsxs)("div",{children:[Object(u.jsx)("link",{rel:"stylesheet",href:"https://www.w3schools.com/w3css/4/w3.css"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"w3-center w3-margin w3-padding-large",children:[Object(u.jsxs)("div",{className:"w3-container w3-white w3-margin w3-padding-large",children:[Object(u.jsxs)("div",{className:"w3-center",children:[Object(u.jsx)("h3",{children:Object(u.jsx)("strong",{children:a.recipeName})}),Object(u.jsxs)("h5",{children:[a.category,", ",Object(u.jsx)("span",{className:"w3-opacity",children:Object(u.jsxs)(l.b,{to:"/oneUser/".concat(a.user._id),children:[" ",Object(u.jsxs)("a",{children:["By ",a.user.name]})," "]})})]})]}),Object(u.jsxs)("div",{className:"w3-justify",children:[Object(u.jsx)("img",{src:a.recipeImage,alt:"Girl Hat",style:{width:"100%"},className:"w3-padding-16"}),Object(u.jsx)("p",{children:Object(u.jsxs)("strong",{children:["Cook time: ",a.cookTime," min"]})}),Object(u.jsx)("label",{children:Object(u.jsx)("h3",{children:Object(u.jsx)("strong",{children:"Ingredients:"})})}),Object(u.jsx)("p",{children:a.ingredients}),Object(u.jsx)("label",{children:Object(u.jsx)("h3",{children:Object(u.jsx)("strong",{children:"Method:"})})}),Object(u.jsx)("p",{children:a.method}),e.isLoggedIn?Object(u.jsxs)(u.Fragment,{children:[k?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"w3-left",children:Object(u.jsx)("button",{className:"w3-button w3-white w3-border",onclick:"likeFunction(this)",children:Object(u.jsxs)("b",{children:[Object(u.jsx)("i",{className:"fa fa-thumbs-up"})," Saved"]})})})}):Object(u.jsx)("p",{className:"w3-left",children:Object(u.jsx)("button",{className:"w3-button w3-white w3-border",onclick:"likeFunction(this)",onClick:function(){return function(){var t=e.auth.currentUser._id;C(!0),E.a.fire("Saved!","saved to your favorite list","success"),b.a.post("".concat(w,"/api/user/favorite"),{recipeId:i,userId:t}).then((function(e){console.log("the fav data",e)}))}()},children:Object(u.jsxs)("b",{children:[Object(u.jsx)("i",{className:"fa fa-thumbs-up"})," Save"]})})}),Object(u.jsx)("p",{className:"w3-right",children:Object(u.jsxs)("button",{className:"w3-button w3-black",id:"myBtn",children:[Object(u.jsx)("b",{children:"Print"})," "]})}),Object(u.jsx)("p",{className:"w3-clear"})]}):Object(u.jsx)(u.Fragment,{})]})]}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("br",{}),e.isLoggedIn?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(L,{recipes:a,onChangeInput:function(t){var c,s=t.target,a=s.name,n=s.value,r=e.auth.currentUser._id;T(Object(f.a)(Object(f.a)({},B),{},(c={},Object(g.a)(c,a,n),Object(g.a)(c,"userId",r),Object(g.a)(c,"recipeId",i),Object(g.a)(c,"reviewImage",z),c)))},uploadImage:A,onSubmit:function(e){e.preventDefault(),b.a.post("".concat(w,"/api/review/addReview"),B).then((function(e){e.data.reviews;console.log("res",e.data.reviews),console.log("review added to DB "),v((function(e){return!e}))})).catch((function(e){return console.log(e)}))}})," "]}):Object(u.jsx)(u.Fragment,{})]})})}function M(e){var t=Object(s.useState)({}),c=Object(r.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(!1),l=Object(r.a)(i,2),d=l[0],j=l[1],m=Object(o.g)()._id,h=Object(s.useState)(!1),O=Object(r.a)(h,2),x=O[0],p=O[1],g=Object(s.useState)(!1),f=Object(r.a)(g,2),v=f[0],N=f[1];Object(s.useEffect)((function(){b.a.get("".concat(w,"/api/user/profile/").concat(m)).then((function(e){console.log("one user",e.data);var t=Object.assign(e.data);n({data:t}),N(!0)}))}),[x]);function y(e,t){var c,s,a;for(s=document.getElementsByClassName("tabcontent"),c=0;c<s.length;c++)s[c].style.display="none";for(a=document.getElementsByClassName("nav-link py-4"),c=0;c<a.length;c++)a[c].className=a[c].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}return Object(u.jsx)(u.Fragment,{children:v&&Object(u.jsxs)("div",{className:"bg-white",children:[Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-4",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("a",{href:"#",className:"d-inline-block text-dark",children:[Object(u.jsx)("strong",{children:a.data.recipes.length}),Object(u.jsx)("span",{className:"text-muted",children:" Recipes"})]}),Object(u.jsxs)("a",{href:"#",className:"d-inline-block text-dark ml-3",children:[Object(u.jsx)("strong",{children:a.data.followers.length}),Object(u.jsx)("span",{className:"text-muted",children:" Followers"})]}),Object(u.jsxs)("a",{href:"#",className:"d-inline-block text-dark ml-3",children:[Object(u.jsx)("strong",{children:a.data.following.length}),Object(u.jsx)("span",{className:"text-muted",children:" Following"})]})]}),Object(u.jsx)("div",{children:e.isLoggedIn?Object(u.jsxs)(u.Fragment,{children:[d?Object(u.jsx)("a",{className:"btn btn-danger btn-sm",onClick:function(){return function(){var t=e.auth.currentUser._id;b.a.post("".concat(w,"/api/user/unfollow"),{userIdToFollow:m,userId:t}).then((function(e){p((function(e){return!e})),console.log("Unfollowed",e),j(!1)})).catch((function(e){return console.log(e)}))}()},children:"UnFollow!"}):Object(u.jsx)("a",{className:"btn btn-success btn-sm",onClick:function(){return function(){var t=e.auth.currentUser._id;b.a.post("".concat(w,"/api/user/follow"),{userIdToFollow:m,userId:t}).then((function(e){p((function(e){return!e})),console.log("followed",e),j(!0)})).catch((function(e){return console.log(e)}))}()},children:"Follow!"})," "]}):Object(u.jsx)(u.Fragment,{})})]})}),Object(u.jsx)("hr",{className:"m-0"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"text-center py-5",children:[Object(u.jsx)("img",{src:a.data.userImage,className:"ui-w-100 rounded-circle"}),Object(u.jsxs)("div",{className:"col-md-8 col-lg-6 col-xl-5 p-0 mx-auto",children:[Object(u.jsx)("h4",{className:"font-weight-bold my-4",children:a.data.name}),Object(u.jsxs)("p",{className:"my-4",children:["@",a.data.userName]}),Object(u.jsx)("div",{className:"text-muted mb-4",children:a.data.bio})]})]})}),Object(u.jsx)("hr",{className:"m-0"}),Object(u.jsxs)("ul",{className:"nav nav-tabs tabs-alt justify-content-center",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4 active",href:"#",onClick:function(e){return y(e,"Recipes")},children:"Recipes"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4",href:"#",onClick:function(e){return y(e,"Followers")},children:"Followers"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link py-4",href:"#",onClick:function(e){return y(e,"Following")},children:"Following"})})]}),Object(u.jsx)("div",{id:"Recipes",className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container bootdey",children:Object(u.jsx)("div",{className:"row flex-row",children:a.data.recipes.map((function(e){return Object(u.jsx)(T,{_id:e._id,recipeName:e.recipeName,recipeImage:e.recipeImage,category:e.category,method:e.method,notShow:!0})}))})})]})}),Object(u.jsx)("div",{id:"Followers",style:{display:"none"},className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-xl-12",children:[Object(u.jsx)("div",{className:"list-group",children:a.data.followers.map((function(e,t){return Object(u.jsx)(B,{_id:e._id,userName:e.userName,name:e.name,userImage:e.userImage,notShow:!0},t)}))}),Object(u.jsx)("div",{className:"text-center p-3",children:Object(u.jsxs)("a",{href:"#",className:"text-dark text-decoration-none",children:["Show more ",Object(u.jsx)("b",{className:"caret"})]})})]})})]})}),Object(u.jsx)("div",{id:"Following",style:{display:"none"},className:"tabcontent",children:Object(u.jsxs)("div",{className:"container light-style flex-grow-1 container-p-y",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-xl-12",children:[Object(u.jsx)("div",{className:"list-group",children:a.data.following.map((function(e,t){return Object(u.jsx)(_,{_id:e._id,userName:e.userName,name:e.name,userImage:e.userImage,notShow:!0})}))}),Object(u.jsx)("div",{className:"text-center p-3",children:Object(u.jsxs)("a",{href:"#",className:"text-dark text-decoration-none",children:["Show more ",Object(u.jsx)("b",{className:"caret"})]})})]})})]})})]})})}c(70),c(71),c(72),c(73),c(74),c(75),c(76);var q=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)({currentUser:null,isLoggedIn:!1}),i=Object(r.a)(n,2),j=i[0],m=i[1],h=function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=Object(d.a)(e,"SECRET").user;m({currentUser:t,isLoggedIn:!0})}else m({currentUser:null,isLoggedIn:!1});a(!0),console.log("The current User is: ",j.currentUser)};Object(s.useEffect)(h,[]);var x=Object(s.useState)([]),g=Object(r.a)(x,2),f=g[0],v=g[1],N=Object(s.useState)([]),I=Object(r.a)(N,2),S=I[0],F=I[1],_=Object(s.useState)([]),B=Object(r.a)(_,2),T=B[0],R=B[1];return Object(s.useEffect)((function(){b.a.get("".concat(w,"/api/recipe")).then((function(e){console.log("recipe data",e.data),v(e.data),R(e.data);var t=e.data.map((function(e){return e.category}));t.unshift("All"),F(Array.from(new Set(t)))}))}),[]),Object(u.jsx)(u.Fragment,{children:c&&Object(u.jsxs)(l.a,{children:[Object(u.jsx)(O,{isLoggedIn:j.isLoggedIn,loginCallback:h}),Object(u.jsxs)(o.c,{children:[Object(u.jsxs)(o.a,{exact:!0,path:"/",children:[Object(u.jsx)(p,{recipes:f,types:S,setSelectRecipe:R,selectRecipe:T}),Object(u.jsx)(C,{})]}),Object(u.jsxs)(o.a,{exact:!0,path:"/viewRecipe/:_id",children:[Object(u.jsx)(P,{auth:j,isLoggedIn:j.isLoggedIn,loginCallback:h}),Object(u.jsx)(C,{})]}),Object(u.jsxs)(o.a,{exact:!0,path:"/oneUser/:_id",children:[Object(u.jsx)(M,{auth:j,isLoggedIn:j.isLoggedIn}),Object(u.jsx)(C,{})]}),j.isLoggedIn?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(o.a,{exact:!0,path:"/profile",children:[Object(u.jsx)(D,{setAuth:m,auth:j,dataLoading:c}),Object(u.jsx)(C,{})]}),Object(u.jsxs)(o.a,{exact:!0,path:"/addRecipe",children:[Object(u.jsx)(z,{setAuth:m,auth:j}),Object(u.jsx)(C,{})]}),Object(u.jsxs)(o.a,{exact:!0,path:"/editRecipe/:_id",children:[Object(u.jsx)(U,{setAuth:m,auth:j}),Object(u.jsx)(C,{})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/signup",children:Object(u.jsx)(y,{loginCallback:h})}),Object(u.jsx)(o.a,{exact:!0,path:"/signin",children:Object(u.jsx)(k,{loginCallback:h})})]}),Object(u.jsx)(o.a,{path:"*",children:Object(u.jsx)("h1",{children:"Page not found"})})]})]})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,81)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),G()}},[[77,1,2]]]);
//# sourceMappingURL=main.14db8000.chunk.js.map